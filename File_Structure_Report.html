<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Pill Tracer - File Structure Report</title>
    <style>
        body {
            font-family: 'Calibri', 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            background-color: #fff;
        }

        h1 {
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 15px;
            color: #1a237e;
            font-size: 24pt;
        }

        h2 {
            background-color: #f7f9fc;
            padding: 10px;
            border-left: 5px solid #1a237e;
            color: #333;
            margin-top: 40px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        th,
        td {
            border: 1px solid #e0e0e0;
            padding: 15px;
            text-align: left;
            vertical-align: top;
        }

        th {
            background-color: #1a237e;
            color: white;
            font-weight: bold;
            width: 30%;
        }

        tr:nth-child(even) {
            background-color: #fcfcfc;
        }

        code {
            background-color: #f0f0f0;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: #d32f2f;
            font-weight: bold;
        }

        .description {
            font-size: 11pt;
        }

        .tag {
            display: inline-block;
            background: #eee;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-right: 5px;
            color: #666;
        }
    </style>
</head>

<body>

    <h1>üìÇ Pill Tracer - File Structure Report</h1>
    <p><strong>Generated on:</strong> December 18, 2025</p>
    <p>This document provides a detailed breakdown of every file in the project and its operational function.</p>

    <h2>üèóÔ∏è Root Directory</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>server.js</code></td>
            <td><strong>The Brain.</strong> The main entry point of the backend. It starts the Express server, connects
                to Oracle, and routes API requests.</td>
        </tr>
        <tr>
            <td><code>.env</code></td>
            <td><strong>Secrets.</strong> Stores sensitive environment variables like DB password and connection
                strings.</td>
        </tr>
        <tr>
            <td><code>setup-firebase.js</code></td>
            <td><strong>Setup Script.</strong> A one-time script used to create the initial "Super Admin" account in
                both Firebase and Oracle.</td>
        </tr>
        <tr>
            <td><code>package.json</code></td>
            <td><strong>Manifest.</strong> Lists project metadata, scripts (start, seed), and installed libraries
                (dependencies).</td>
        </tr>
    </table>

    <h2>üóÑÔ∏è Database (/db)</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>connection.js</code></td>
            <td><strong>The Bridge.</strong> Manages the connection pool to Oracle. Also handles "Thin Mode" setup and
                verifying if tables exist.</td>
        </tr>
        <tr>
            <td><code>schema_oracle.sql</code></td>
            <td><strong>Blueprint.</strong> Contains the SQL commands that define the table structure (Users, Medicines,
                etc.).</td>
        </tr>
        <tr>
            <td><code>seed.js</code></td>
            <td><strong>Data Loader.</strong> A script that fills the empty database with sample data (medicines,
                branches, inventory) for testing.</td>
        </tr>
    </table>

    <h2>üõ§Ô∏è Data Routes (/routes)</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>public.js</code></td>
            <td><strong>Search API.</strong> Handles public requests for searching medicines. No login required.</td>
        </tr>
        <tr>
            <td><code>auth.js</code></td>
            <td><strong>Auth API.</strong> Handles user registration, profile updates, and token verification.</td>
        </tr>
        <tr>
            <td><code>pharmacy.js</code></td>
            <td><strong>Pharmacy API.</strong> REST endpoints for pharmacies to manage inventory.</td>
        </tr>
        <tr>
            <td><code>super-admin.js</code></td>
            <td><strong>Admin API.</strong> Endpoints for the Super Admin to view global stats and approve users.</td>
        </tr>
    </table>

    <h2>üîê Configuration (/config)</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>firebase-admin.js</code></td>
            <td><strong>Backend Auth.</strong> Initializes Firebase Admin SDK for the server.</td>
        </tr>
        <tr>
            <td><code>firebase-config.js</code></td>
            <td><strong>Frontend Auth.</strong> Public keys for the browser to connect to Firebase.</td>
        </tr>
        <tr>
            <td><code>service-account.json</code></td>
            <td><strong>Key.</strong> The private key file for Firebase Admin access.</td>
        </tr>
    </table>

    <h2>üñ•Ô∏è Frontend Pages (/public)</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>index.html</code></td>
            <td><strong>Home Page.</strong> Main landing page with medicine search.</td>
        </tr>
        <tr>
            <td><code>auth.html</code></td>
            <td><strong>Login Page.</strong> Sign In and Register forms.</td>
        </tr>
        <tr>
            <td><code>pharmacy-portal.html</code></td>
            <td><strong>Pharmacy Dashboard.</strong> Interface for pharmacists to manage inventory.</td>
        </tr>
        <tr>
            <td><code>admin-dashboard.html</code></td>
            <td><strong>Super Admin Dashboard.</strong> Control panel for the administrator.</td>
        </tr>
    </table>

    <h2>‚öôÔ∏è Frontend Logic (/public/js)</h2>
    <table>
        <tr>
            <th>File Name</th>
            <th>Function & Description</th>
        </tr>
        <tr>
            <td><code>app.js</code></td>
            <td><strong>Search Logic.</strong> Handles the search bar input and fetching results.</td>
        </tr>
        <tr>
            <td><code>auth.js</code></td>
            <td><strong>Login Logic.</strong> Handles login form submission.</td>
        </tr>
        <tr>
            <td><code>pharmacy-portal.js</code></td>
            <td><strong>Portal Logic.</strong> Manages the inventory table UI.</td>
        </tr>
        <tr>
            <td><code>admin-dashboard.js</code></td>
            <td><strong>Admin Logic.</strong> Fetches and displays admin stats.</td>
        </tr>
    </table>

</body>

</html>